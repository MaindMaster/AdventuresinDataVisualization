<!DOCTYPE html>
<html>
<head>
	<script src="lib/d3.min.js"></script>
	<script>
		d3.csv('../data/olympics_2012.csv', loaded);

		function loaded(data) {
			var field = d3.nest()
			
						/*
						.key(function(d) {
							return d.gender
						})	
						*/		
						.key(function(d) {
							return d.team
						})
						.sortKeys(d3.ascending)
						.entries(data)

					console.log(field);
			d3.select('svg')
			.selectAll('rect')
			.data(field)
			.enter()
			.append('rect')
			.attr('height', 4)
			.attr('width', function(d,i){
				return d.values.length
			})
			.attr('y', function(d,i){
				return i*5
			})

			d3.select('svg')
				.attr('height', 2*field.length)			
		}
		

		
	</script>

  	<meta charset="utf-8">
  	<title>JS Bin</title>
</head>
<body>

<svg>
</svg>
</body>
</html>