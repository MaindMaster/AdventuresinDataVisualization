<!DOCTYPE html>
<html lang="en">
<head>
<script src="http://d3js.org/d3.v3.min.js"></script>
	<meta charset="utf-8">
	<title></title>
</head>
<body>
  <svg height="900px"></svg>
    
    <script>
    var dataset = d3.range(20).map(function(d){
  return Math.random()
})

var mapy = d3.scale.linear()
				.domain([0, dataset.length])
				.range([0, 400])

var cols = d3.scale.linear()
				.domain([0, dataset.length])
				.range(['#f00', '#0f0'])

var cat = d3.scale.category20();

d3.select('svg')
	.selectAll('rect')
	.data(dataset)
	.enter()
	.append('rect')
	.attr('y', function(d, i){
	  return mapy(i);
	})
	.attr('height', 400/dataset.length-1)
	.attr('width', function(d, i){
	  return 0;
	}) 
	.style('fill', function(d, i){
	  return cat(i)
	})
	.transition()
	.ease('bounce')
	.duration(1000)
	.delay(function(d, i){
	  return i*250
	})
	.attr('width', function(d, i){
	  return d*200;
	})
	.transition()
	.duration(3000)
	.ease('elastic-out')
	.style('fill', function(d, i){
	  return cols(i)
	})


</script>
    
</body>
</html>