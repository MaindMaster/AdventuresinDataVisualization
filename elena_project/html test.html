<html>
    <head>
        
        <script src="d3.min.js"></script>
    </head>
        
        <body>
            <svg></svg>
            
            <script>
            d3.csv('../data/olympics_2012.csv', loaded);
                
                function loaded(data) {
                    console.log(data)
        
                
                    var countries = d3.nest()
                                     .key(function(d) {
                                        return d.team;
                                     })
                                    .key(function(d) {
                                        return d.gender;

                                    })
                                    .sortKeys(d3.ascending)
                                    .entries(data);


                    d3.select('svg')
                        .selectAll('rect')
                        .data(countries)
                        .enter()
                        .append('rect')
                        .attr('height', 4)
                        .attr('width', function (d,i) {
                            return d.values.length
                        })
                        .attr('y', function(d,i) {
                            return i*5
                        })

                    
                    
                }
                
                
            </script>
        
    
        </body>
    


</html>