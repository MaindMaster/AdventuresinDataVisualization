<html>
    
    <head>
        
        <script src="d3.min.js"></script>
    </head>
        
        <body>
            <svg></svg>
            
            <script>
            d3.csv('../data/olympics_2012.csv', loaded); {
                
                function loaded("data loaded");
                    console.log(data)
        
                
                    var countries = d3.nest()
                                     .key(function(d) {
                                        return d.team;
                                     })
                                  
                                    .sortKeys(d3.ascending)
                                    .entries(data);

                    
                    countries.sort(function(a,b){
                        return d3.ascending(b.values.lenght, a.values.lenght)
                                            })

                    d3.select('svg')
                        .selectAll('rect')
                        .data(countries)
                        .enter()
                        .append('rect')
                        .attr('height', 4)
                        .attr('width', function (d,i) {
                            return d.values.length
                        })
                        .attr('y', function(d,i) {
                            return i*5
                        })

                    console.log(countries);
                    d.3elect('svg')
                    .attr('height', 5*countries.length)
                    .style('fill', 'black')
                    
                }
                 
            </script>
        
    
        </body>



</html>